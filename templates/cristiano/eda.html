{% extends '../pages/base.html'%}
{% load static %}

{% block barra_navegacao_login %}
{% endblock %}

{% block conteudo %}
<h1> Análise Exploratória de Dados </h1>
<h3> Cristiano Júnior Larréa Leal <br> </br> </h3>

<p> Essa análise exploratória de dados tem o objetivo de responder a seguinte pergunta: </p>
<h4> <b> Qual porcentagem dos alunos parecem ter hábitos de vida saudáveis? </b></h4>

<p> Para tanto, vamos iniciar analisando quando tipos diferentes de interesses possuímos: </p>
{% for interesse in interesses_distinct %}
<li>
    {{interesse.nome}}
</li>    
{% endfor %}

<p> Agora, filtramos aqueles que podem ser considerados "coisas saudáveis", que, analisando são: </p>
{% for interesse in interesses_distinct %}
{% if interesse.nome in interesses_saudaveis %}
<li> 
    {{interesse.nome}}
</li>
{% endif %}
{% endfor %}    

<p> Agora, devemos achar a quantidade de alunos que possuem esse interesses com grau alto (>=3). Essa será nossa definição de "alunos com hábitos saudáveis". </p>
<p> Para isso, com pandas, criamos um dataframe de Alunos. Após, damos um merge com um dataframe de Interesses_Alunos (tabela intermediária) do banco de dados. Ao final, realizamos mais um merge com a tabela de interesses e, por fim, apenas devemos filtrar. </p>

{{aluno_df}}





<table class="table table-striped">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Idade</th>
        <th>sexo</th>
        <th>Curso</th>
        <th>Periodo</th>
      </tr>
    </thead>
    <tbody>  
    {% for aluno in alunos %}
      <tr>
        <td>{{aluno.nome}}</td>
        <td>{{aluno.idade}}</td>
        <td>{{aluno.sexo}}</td>
        <td>{{aluno.curso}}</td>
        <td>{{aluno.periodo}}</td>
      </tr>
    {% endfor %}
    </tbody>
</table>


<table class="table table-striped">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Grau</th>
        <th>Categoria</th>
      </tr>
    </thead>
    <tbody>  
    {% for interesse in interesses %}
      <tr>
        <td>{{interesse.nome}}</td>
        <td>{{interesse.grau}}</td>
        <td>{{interesse.categoria}}</td>
      </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}